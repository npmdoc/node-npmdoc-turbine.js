<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/wmbenedetto/turbine.js">turbine.js (v0.4.0)</a>
</h1>
<h4>Turbine.js is an event-driven JavaScript Workflow Engine.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.turbine.js">module turbine.js</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine">
            function <span class="apidocSignatureSpan">turbine.js.</span>Turbine
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.js.Turbine">
            function <span class="apidocSignatureSpan">turbine.js.</span>js.Turbine
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">turbine.js.</span>js.Turbine.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">turbine.js.</span>js.Turbine.prototype.utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.turbine.js.Turbine">module turbine.js.Turbine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.Turbine">
            function <span class="apidocSignatureSpan">turbine.js.</span>Turbine
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.turbine.js.Turbine.prototype">module turbine.js.Turbine.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.clear">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clear
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.clearAllQueryTimers">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearAllQueryTimers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.clearDelayTimer">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearDelayTimer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.clearGlobalTimer">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearGlobalTimer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.clearQueryTimer">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearQueryTimer
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.clearTimers">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearTimers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.exec">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>exec
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getGlobalTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getGlobalTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getNextQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getNextQuery
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getResponse">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getResponse
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getShortcut">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getShortcut
            <span class="apidocSignatureSpan">(shortcut)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getStartingQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getStartingQuery
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getUsingObject">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getUsingObject
            <span class="apidocSignatureSpan">(using)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.getVar">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getVar
            <span class="apidocSignatureSpan">(varName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.handleIncomingMessage">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>handleIncomingMessage
            <span class="apidocSignatureSpan">(message, payload)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.hasQueryFunction">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>hasQueryFunction
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importAlways">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importAlways
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importFunctions">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importFunctions
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importMixins">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importMixins
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importObjects">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importObjects
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importQueries">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importQueries
            <span class="apidocSignatureSpan">(workflow)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importQuery
            <span class="apidocSignatureSpan">(query, workflow)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importResponse">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importResponse
            <span class="apidocSignatureSpan">(response, query, workflow)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importSequence">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importSequence
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importSequenceQueries">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importSequenceQueries
            <span class="apidocSignatureSpan">(sequence)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.importWorkflow">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importWorkflow
            <span class="apidocSignatureSpan">(initObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.initPubSub">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>initPubSub
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isDirtyQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isDirtyQuery
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isEarlierQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isEarlierQuery
            <span class="apidocSignatureSpan">(nextQuery, currentQuery)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isGlobalTimeoutAllowed">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isGlobalTimeoutAllowed
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isKillQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isKillQuery
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isKilled">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isKilled
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isLoggable">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isLoggable
            <span class="apidocSignatureSpan">(level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isStarted">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isStarted
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isStopQuery">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isStopQuery
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.isStopped">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isStopped
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.kill">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>kill
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.listen">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>listen
            <span class="apidocSignatureSpan">(message, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.log">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>log
            <span class="apidocSignatureSpan">(funcName, message, payload, level)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.next">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>next
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.onDelayTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>onDelayTimeout
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.onGlobalTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>onGlobalTimeout
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.onResponseTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>onResponseTimeout
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.parseWaitFor">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>parseWaitFor
            <span class="apidocSignatureSpan">(waitFor, nextQuery, appendAlwaysWaitFor)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.processResponse">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>processResponse
            <span class="apidocSignatureSpan">(query, response, preventGlobalTimeout)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.publish">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>publish
            <span class="apidocSignatureSpan">(message, payload, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.publishAndWait">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>publishAndWait
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.publishNow">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>publishNow
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.queue">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>queue
            <span class="apidocSignatureSpan">(waitFor, nextQuery)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.remove">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>remove
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.repeat">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>repeat
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.replace">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replace
            <span class="apidocSignatureSpan">(target, source, prepend, recursive, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.replaceMixins">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replaceMixins
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.replaceShortcuts">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replaceShortcuts
            <span class="apidocSignatureSpan">(response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.replaceVariables">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replaceVariables
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.report">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>report
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.reportIssueFromWorkflow">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>reportIssueFromWorkflow
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.resetResponse">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>resetResponse
            <span class="apidocSignatureSpan">(query)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.rewind">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>rewind
            <span class="apidocSignatureSpan">(from, to)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.setResponse">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>setResponse
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.setResponseTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>setResponseTimeout
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.start">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>start
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.startDelayTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>startDelayTimeout
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.startGlobalTimeout">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>startGlobalTimeout
            <span class="apidocSignatureSpan">(query, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.stop">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>DEFAULT_GLOBAL_TIMEOUT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.turbine.js.Turbine.prototype.utils">module turbine.js.Turbine.prototype.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.utils.inArray">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>inArray
            <span class="apidocSignatureSpan">(item, source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.utils.isArray">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>isArray
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.utils.isObjLiteral">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>isObjLiteral
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.utils.mergeObjects">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>mergeObjects
            <span class="apidocSignatureSpan">(target, source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.turbine.js.Turbine.prototype.utils.traverseObj">
            function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>traverseObj
            <span class="apidocSignatureSpan">(obj, depth, callback)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.turbine.js" id="apidoc.module.turbine.js">module turbine.js</a></h1>


    <h2>
        <a href="#apidoc.element.turbine.js.Turbine" id="apidoc.element.turbine.js.Turbine">
        function <span class="apidocSignatureSpan">turbine.js.</span>Turbine
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Turbine(initObj) {

    if (typeof initObj !== 'object' || initObj === null){

        var errorMsg                        = 'Turbine constructor must be passed an initialization object';

        this.report({
            handle                          : 'INIT_OBJ_NOT_DEFINED',
            desc                            : errorMsg
        });

        throw new Error(errorMsg);
    }

    if (!MINIFIED){

        this.logLevels = {
            OFF                             : 0,
            ERROR                           : 1,
            WARN                            : 2,
            INFO                            : 3,
            DEBUG                           : 4,
            TRACE                           : 5
        };
    }

    this.always                             = {};
    this.alwaysWaitFor                      = {};
    this.currentQuery                       = null;
    this.dirtyQueries                       = {};
    this.globalTimeoutAllowed               = false;
    this.logLevel                           = initObj.logLevel  || 'ERROR';
    this.name                               = initObj.name      || 'Turbine';
    this.mixins                             = {};
    this.numGlobalListeners                 = 0;
    this.queries                            = {};
    this.queryOrder                         = [];
    this.resets                             = {};
    this.responses                          = {};
    this.shortcuts                          = {};
    this.started                            = false;
    this.killed                             = false;
    this.variables                          = {};
    this.waitingFor                         = null;
    this.workflow                           = {};

    this.timers = {
        queries                             : {},
        delay                               : null,
        global                              : null
    };

    this.initPubSub();
    this.importFunctions(initObj);
    this.importObjects(initObj);
    this.importAlways();
    this.importMixins();

    if (initObj.workflow) {

        this.importWorkflow(initObj);

    } else if (initObj.sequence) {

        this.importSequence(initObj);
    }

    if (typeof initObj.init === 'function'){
        initObj.init(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.js.Turbine" id="apidoc.element.turbine.js.js.Turbine">
        function <span class="apidocSignatureSpan">turbine.js.</span>js.Turbine
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Turbine(initObj) {

    if (typeof initObj !== 'object' || initObj === null){

        var errorMsg                        = 'Turbine constructor must be passed an initialization object';

        this.report({
            handle                          : 'INIT_OBJ_NOT_DEFINED',
            desc                            : errorMsg
        });

        throw new Error(errorMsg);
    }

    if (!MINIFIED){

        this.logLevels = {
            OFF                             : 0,
            ERROR                           : 1,
            WARN                            : 2,
            INFO                            : 3,
            DEBUG                           : 4,
            TRACE                           : 5
        };
    }

    this.always                             = {};
    this.alwaysWaitFor                      = {};
    this.currentQuery                       = null;
    this.dirtyQueries                       = {};
    this.globalTimeoutAllowed               = false;
    this.logLevel                           = initObj.logLevel  || 'ERROR';
    this.name                               = initObj.name      || 'Turbine';
    this.mixins                             = {};
    this.numGlobalListeners                 = 0;
    this.queries                            = {};
    this.queryOrder                         = [];
    this.resets                             = {};
    this.responses                          = {};
    this.shortcuts                          = {};
    this.started                            = false;
    this.killed                             = false;
    this.variables                          = {};
    this.waitingFor                         = null;
    this.workflow                           = {};

    this.timers = {
        queries                             : {},
        delay                               : null,
        global                              : null
    };

    this.initPubSub();
    this.importFunctions(initObj);
    this.importObjects(initObj);
    this.importAlways();
    this.importMixins();

    if (initObj.workflow) {

        this.importWorkflow(initObj);

    } else if (initObj.sequence) {

        this.importSequence(initObj);
    }

    if (typeof initObj.init === 'function'){
        initObj.init(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.turbine.js.Turbine" id="apidoc.module.turbine.js.Turbine">module turbine.js.Turbine</a></h1>


    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.Turbine" id="apidoc.element.turbine.js.Turbine.Turbine">
        function <span class="apidocSignatureSpan">turbine.js.</span>Turbine
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Turbine(initObj) {

    if (typeof initObj !== 'object' || initObj === null){

        var errorMsg                        = 'Turbine constructor must be passed an initialization object';

        this.report({
            handle                          : 'INIT_OBJ_NOT_DEFINED',
            desc                            : errorMsg
        });

        throw new Error(errorMsg);
    }

    if (!MINIFIED){

        this.logLevels = {
            OFF                             : 0,
            ERROR                           : 1,
            WARN                            : 2,
            INFO                            : 3,
            DEBUG                           : 4,
            TRACE                           : 5
        };
    }

    this.always                             = {};
    this.alwaysWaitFor                      = {};
    this.currentQuery                       = null;
    this.dirtyQueries                       = {};
    this.globalTimeoutAllowed               = false;
    this.logLevel                           = initObj.logLevel  || 'ERROR';
    this.name                               = initObj.name      || 'Turbine';
    this.mixins                             = {};
    this.numGlobalListeners                 = 0;
    this.queries                            = {};
    this.queryOrder                         = [];
    this.resets                             = {};
    this.responses                          = {};
    this.shortcuts                          = {};
    this.started                            = false;
    this.killed                             = false;
    this.variables                          = {};
    this.waitingFor                         = null;
    this.workflow                           = {};

    this.timers = {
        queries                             : {},
        delay                               : null,
        global                              : null
    };

    this.initPubSub();
    this.importFunctions(initObj);
    this.importObjects(initObj);
    this.importAlways();
    this.importMixins();

    if (initObj.workflow) {

        this.importWorkflow(initObj);

    } else if (initObj.sequence) {

        this.importSequence(initObj);
    }

    if (typeof initObj.init === 'function'){
        initObj.init(this);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.turbine.js.Turbine.prototype" id="apidoc.module.turbine.js.Turbine.prototype">module turbine.js.Turbine.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.clear" id="apidoc.element.turbine.js.Turbine.prototype.clear">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clear
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function (query) {

    if (!MINIFIED){
        this.log('clear', 'Clearing ' + query, null, 'DEBUG');
    }

    this.clearQueryTimer(query);

<span class="apidocCodeCommentSpan">    /* Reset counters for repeat queries */
</span>    for (var response in this.workflow[query]) {

        if (this.workflow[query].hasOwnProperty(response) &amp;&amp; this.workflow[query][response].repeat) {

            this.workflow[query][response].repeat.counter = 0;
        }
    }

    this.resetResponse(query);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.clearAllQueryTimers" id="apidoc.element.turbine.js.Turbine.prototype.clearAllQueryTimers">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearAllQueryTimers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearAllQueryTimers = function () {

    if (!MINIFIED){
        this.log('clearAllQueryTimers', 'Clearing all query timers', this.timers.queries, 'TRACE');
    }

    for (var query in this.timers.queries) {

        if (this.timers.queries.hasOwnProperty(query)) {

            this.clearQueryTimer(query);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.clearDelayTimer" id="apidoc.element.turbine.js.Turbine.prototype.clearDelayTimer">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearDelayTimer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearDelayTimer = function () {

    if (this.timers.delay !== null) {

        if (!MINIFIED){
            this.log('clearDelayTimer', 'Clearing delay timer', this.timers.delay, 'TRACE');
        }

        clearTimeout(this.timers.delay);

        this.timers.delay               = null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.clearGlobalTimer" id="apidoc.element.turbine.js.Turbine.prototype.clearGlobalTimer">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearGlobalTimer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearGlobalTimer = function () {

    if (this.timers.global !== null) {

        if (!MINIFIED){
            this.log('clearGlobalTimer', 'Clearing global timer', this.timers.global, 'TRACE');
        }

        clearTimeout(this.timers.global);

        this.timers.global              = null;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.clearQueryTimer" id="apidoc.element.turbine.js.Turbine.prototype.clearQueryTimer">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearQueryTimer
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearQueryTimer = function (query) {

    var timerArray                      = this.timers.queries[query];

    if (timerArray) {

        if (!MINIFIED){
            this.log('clearQueryTimer', 'Clearing '+query+' query timer', this.timers.queries[query], 'TRACE');
        }

        for (var i=0;i&lt;timerArray.length;i++) {
            clearTimeout(timerArray[i]);
        }

        try {
            delete this.timers.queries[query];
        } catch (e) {
            this.timers.queries[query]  = undefined;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.clearTimers" id="apidoc.element.turbine.js.Turbine.prototype.clearTimers">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>clearTimers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearTimers = function () {

    if (!MINIFIED){
        this.log('clearTimers', 'Clearing all timers', this.timers, 'TRACE');
    }

    this.clearAllQueryTimers();
    this.clearGlobalTimer();
    this.clearDelayTimer();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.exec" id="apidoc.element.turbine.js.Turbine.prototype.exec">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>exec
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (query) {

    this.clearTimers();

    if (this.isKillQuery(query)) {
        this.kill();
    }

    if (this.isStopQuery(query)) {
        this.stop();
        return null;
    }

    if (this.isKilled()) {
        return null;
    }

    this.currentQuery                   = query;
    this.nextQuery                      = null;
    this.responses[query]               = this.getResponse(query);

<span class="apidocCodeCommentSpan">    /* If the query doesn't exist, we can't go any further */
</span>    if (!this.utils.isObjLiteral(this.workflow[query])) {

        this.report({
            handle                      : 'QUERY_DOES_NOT_EXIST',
            desc                        : '[' + this.name + '.exec()] ' + query + ' query does not exist'
        });

        return null;
    }

    var responseName                    = this.responses[query];
    var responseObj                     = this.workflow[query][responseName];

    /* If the response doesn't exist, check if a default response has been specified */
    if (!responseObj) {

        responseName                    = 'default';
        responseObj                     = this.workflow[query][responseName];

        /* If there's no default response specified either, then there's nothing else we can do */
        if (!responseObj) {

            this.report({
                handle                  : 'RESPONSE_DOES_NOT_EXIST',
                desc                    : '[' + this.name + '.exec()] ' + responseName + ' response does not exist for the ' + query
 + ' query'
            });

            return null;
        }
    }

    if (!MINIFIED){
        this.log('exec', 'Executing the ' + responseName + ' response to the ' + query + ' query', responseObj, 'DEBUG');
    }

    responseObj.responseName            = responseName;

    this.processResponse(query,responseObj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getGlobalTimeout" id="apidoc.element.turbine.js.Turbine.prototype.getGlobalTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getGlobalTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getGlobalTimeout = function () {

    if (this.utils.isObjLiteral(this.always.timeout) &amp;&amp; typeof this.always.timeout.after !== 'undefined'){

        return this.always.timeout.after;

    } else {

        return this.DEFAULT_GLOBAL_TIMEOUT;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getNextQuery" id="apidoc.element.turbine.js.Turbine.prototype.getNextQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getNextQuery
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNextQuery = function (message) {

    var next                            = null;

    for (var msg in this.nextQueryObj) {

        if (this.nextQueryObj.hasOwnProperty(msg) &amp;&amp; message === msg) {
            next                        = this.nextQueryObj[msg];
            break;
        }
    }

    if (!MINIFIED){
        this.log('getNextQuery', 'Getting the next query: '+next, null, 'TRACE');
    }

    return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getResponse" id="apidoc.element.turbine.js.Turbine.prototype.getResponse">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getResponse
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getResponse = function (query) {

    this.responses[query]               = (this.hasQueryFunction(query)) ? this.queries[query]() : this.responses[query];

<span class="apidocCodeCommentSpan">    /* Convert boolean result to yes/no string */
</span>    if (typeof this.responses[query] === 'boolean' || this.responses[query] === null || typeof this.responses[query] === 'undefined
') {
        this.responses[query]           = (this.responses[query]) ? 'yes' : 'no';
    }

    if (!MINIFIED){
        this.log('getResponse',query + '?', this.responses[query]);
    }

    return this.responses[query];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getShortcut" id="apidoc.element.turbine.js.Turbine.prototype.getShortcut">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getShortcut
        <span class="apidocSignatureSpan">(shortcut)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getShortcut = function (shortcut) {

<span class="apidocCodeCommentSpan">    /* Prepend @ symbol if not already there */
</span>    shortcut                            = (shortcut.indexOf('@') === 0) ? shortcut.substr(1) : shortcut;

    return (typeof this.shortcuts[shortcut] !== 'undefined') ? this.shortcuts[shortcut] : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getStartingQuery" id="apidoc.element.turbine.js.Turbine.prototype.getStartingQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getStartingQuery
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getStartingQuery = function () {

    var start                           = this.getShortcut('start');

    return (start) ? start : this.queryOrder[0];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getUsingObject" id="apidoc.element.turbine.js.Turbine.prototype.getUsingObject">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getUsingObject
        <span class="apidocSignatureSpan">(using)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUsingObject = function (using) {

    using                               = (typeof using === 'undefined') ? {} : using;

<span class="apidocCodeCommentSpan">    /* If an always.using object has been defined, merge it into the response's using object */
</span>    if (this.always.using) {
        using                           = this.utils.mergeObjects(using,this.always.using);
    }

    if (!MINIFIED){
        this.log('getUsingObject', 'Getting using object', using, 'TRACE');
    }

    return using;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.getVar" id="apidoc.element.turbine.js.Turbine.prototype.getVar">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>getVar
        <span class="apidocSignatureSpan">(varName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getVar = function (varName) {

<span class="apidocCodeCommentSpan">    /* Prepend dollar sign if not already there */
</span>    varName                             = (varName.indexOf('$') === 0) ? varName.substr(1) : varName;

    return (typeof this.variables[varName] !== 'undefined') ? this.variables[varName] : null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var initObj = {
    variables : {
        maxRetries : 100
    }
};

var turbine = new Turbine(initObj);
turbine.<span class="apidocCodeKeywordSpan">getVar</span>('maxRetries'); // returns 100
```

---
### setResponse(query, response)

The `setResponse` method sets the response to a query.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.handleIncomingMessage" id="apidoc.element.turbine.js.Turbine.prototype.handleIncomingMessage">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>handleIncomingMessage
        <span class="apidocSignatureSpan">(message, payload)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleIncomingMessage = function (message, payload) {

    if (this.isKilled()) {
        return null;
    }

    if (!MINIFIED){
        this.log('handleIncomingMessage', 'Handling "'+message+'" message', payload);
    }

    if (this.waitingFor) {

        this.remove(this.waitingFor);

        this.nextQuery                  = this.getNextQuery(message);
    }

    this.waitingFor                     = null;

    if (this.isEarlierQuery(this.nextQuery,this.currentQuery)){
        this.rewind(this.currentQuery,this.nextQuery);
    }

    if (!this.isKilled()){
        this.next();
    }

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.hasQueryFunction" id="apidoc.element.turbine.js.Turbine.prototype.hasQueryFunction">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>hasQueryFunction
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hasQueryFunction = function (query) {
    return typeof this.queries[query] === 'function';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importAlways" id="apidoc.element.turbine.js.Turbine.prototype.importAlways">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importAlways
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importAlways = function () {

    if (!MINIFIED){
        this.log('importAlways', 'Importing always', this.always, 'DEBUG');
    }

    if (typeof this.always.waitFor !== 'undefined'){

        this.replaceShortcuts(this.always.waitFor);
        this.replaceVariables(this.always.waitFor);

        var result                      = this.parseWaitFor(this.always.waitFor);

        this.alwaysWaitFor              = result.nextQueryObj;
        this.numAlwaysWaitFor           = result.waitingFor.length;

        if (!MINIFIED){
            this.log('importAlways', 'Always wait for', this.alwaysWaitFor, 'DEBUG');
        }
    }

<span class="apidocCodeCommentSpan">    /* If a global timeout is specified then global timeouts are allowed by default */
</span>    this.globalTimeoutAllowed           = typeof this.always.timeout !== 'undefined';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importFunctions" id="apidoc.element.turbine.js.Turbine.prototype.importFunctions">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importFunctions
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importFunctions = function (initObj) {

    if (!MINIFIED){
        this.log('importFunctions', 'Importing functions', null, 'DEBUG');
    }

    var thisFunc                        = null;
    var importedFunctions               = {};
    var validFunctions = [
        'init',
        'log',
        'publish',
        'listen',
        'remove',
        'report'
    ];

    for (var i=0;i&lt;validFunctions.length;i++) {

        thisFunc                        = validFunctions[i];

        if (!MINIFIED){
            this.log('importFunctions', '--&gt; Importing ' + thisFunc + '() function', null, 'DEBUG');
        }

        if (typeof initObj[thisFunc] === 'function') {

            this[thisFunc]              = initObj[thisFunc];

            importedFunctions[thisFunc] = true;
        }
    }

    if (!$ &amp;&amp; (!('publish' in importedFunctions) || !('listen' in importedFunctions) || !('remove' in importedFunctions))) {

        var errorMsg                    = '[' + this.name + '.importFunctions()] You must either define publish(), listen(), and
 remove() functions via the initObj passed to the Turbine constructor, or you must include jQuery in the page.';

        this.report({
            handle                      : 'REQUIRED_FUNCTIONS_NOT_DEFINED',
            desc                        : errorMsg
        });

        throw new Error(errorMsg);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importMixins" id="apidoc.element.turbine.js.Turbine.prototype.importMixins">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importMixins
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importMixins = function (){

    if (!MINIFIED){
        this.log('importMixins', 'Importing mixins', this.mixins, 'DEBUG');
    }

    for (var mixin in this.mixins){

        if (this.mixins.hasOwnProperty(mixin)){
            this.replaceMixins(this.mixins[mixin]);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importObjects" id="apidoc.element.turbine.js.Turbine.prototype.importObjects">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importObjects
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importObjects = function (initObj) {

    if (!MINIFIED){
        this.log('importObjects', 'Importing objects', null, 'DEBUG');
    }

    var thisObj                         = null;
    var validObjects = [
        'queries',
        'resets',
        'responses',
        'shortcuts',
        'variables',
        'always',
        'mixins'
    ];

    for (var i=0;i&lt;validObjects.length;i++) {

        thisObj                         = validObjects[i];

        if (!MINIFIED){
            this.log('importObjects', '--&gt; Importing ' + thisObj + ' object', null, 'DEBUG');
        }

        if (this.utils.isObjLiteral(initObj[thisObj])) {
            this[thisObj]               = initObj[thisObj];
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importQueries" id="apidoc.element.turbine.js.Turbine.prototype.importQueries">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importQueries
        <span class="apidocSignatureSpan">(workflow)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importQueries = function (workflow) {

    if (!MINIFIED){
        this.log('importQueries', 'Importing queries', workflow, 'DEBUG');
    }

    var totalQueries                    = 0;

<span class="apidocCodeCommentSpan">    /* Imports each query in the workflow */
</span>    for (var query in workflow) {

        if (workflow.hasOwnProperty(query)) {

            this.importQuery(query,workflow);

            totalQueries               += 1;
        }
    }

    if (totalQueries === 0) {

        var errorMsg                    = '[' + this.name + '.importQueries()] The workflow has no queries to import';

        this.report({
            handle                      : 'NO_QUERIES_TO_IMPORT',
            desc                        : errorMsg
        });

        throw new Error(errorMsg);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importQuery" id="apidoc.element.turbine.js.Turbine.prototype.importQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importQuery
        <span class="apidocSignatureSpan">(query, workflow)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importQuery = function (query, workflow) {

    if (!MINIFIED){
        this.log('importQuery', 'Importing workflow query: ' + query, workflow[query], 'TRACE');
    }

    this.queries[query]                 = this.queries[query] || null;

<span class="apidocCodeCommentSpan">    /* Store queries in array so they can be accessed numerically */
</span>    this.queryOrder.push(query);

    this.replaceMixins(query);

    for (var response in workflow[query]) {

        if (workflow[query].hasOwnProperty(response)) {
            this.importResponse(response,query,workflow);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importResponse" id="apidoc.element.turbine.js.Turbine.prototype.importResponse">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importResponse
        <span class="apidocSignatureSpan">(response, query, workflow)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importResponse = function (response, query, workflow) {

    var thisResponse                    = workflow[query][response];

    if (!MINIFIED){
        this.log('importResponse', 'Importing ' + response + ' response to ' + query + ' query', thisResponse, 'TRACE');
    }

<span class="apidocCodeCommentSpan">    /* Add counter to any repeat object */
</span>    if (thisResponse.repeat) {
        thisResponse.repeat.counter = 0;
    }

    this.replaceShortcuts(thisResponse);
    this.replaceVariables(thisResponse);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importSequence" id="apidoc.element.turbine.js.Turbine.prototype.importSequence">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importSequence
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importSequence = function (initObj) {

    if (this.utils.isArray(initObj.sequence)) {

        if (!MINIFIED){
            this.log('importSequence', 'Importing sequence', null, 'DEBUG');
        }

        initObj.sequence                = initObj.sequence || [];
        initObj.workflow                = this.importSequenceQueries(initObj.sequence);
        initObj.sequence                = null;

        this.importWorkflow(initObj);

    } else {

        var errorMsg                    = '[' + this.name + '.importSequence()] Could not import sequence. Sequence must be an array
.';

        this.report({
            handle                      : 'COULD_NOT_IMPORT_SEQUENCE',
            desc                        : errorMsg
        });

        throw new Error(errorMsg);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importSequenceQueries" id="apidoc.element.turbine.js.Turbine.prototype.importSequenceQueries">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importSequenceQueries
        <span class="apidocSignatureSpan">(sequence)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importSequenceQueries = function (sequence) {

    var workflow                        = {};
    var len                             = sequence.length;
    var self                            = this;
    var stepBaseName                    = 'SEQUENCE_STEP_';

<span class="apidocCodeCommentSpan">    /* Create regular workflow object from sequence array */
</span>    for (var i=0;i&lt;len;i++) {

        var query                       = sequence[i];
        var currentStepCount            = i + 1;

        (function(q,c){

            /* Rewrite every instance of "then" in the query objects */
            self.utils.traverseObj(q, 0, function(obj, item) {

                /* Replace "@next" with the name of the next query (or with "stop." if it's the last query) */
                if (item === 'then' &amp;&amp; obj[item] === '@next') {
                    var nextStepCount   = c + 1;
                    obj[item]           = (nextStepCount &gt; sequence.length) ? 'stop.' : stepBaseName + nextStepCount;
                }
            });

        }(query,currentStepCount));


        /* Name all queries in sequence as "SEQUENCE_STEP_1", "SEQUENCE_STEP_2", etc.
         * Only the "default" response body is needed since all query responses default to "default" */
        workflow[stepBaseName + currentStepCount]    = { default : query };
    }

    return workflow;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.importWorkflow" id="apidoc.element.turbine.js.Turbine.prototype.importWorkflow">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>importWorkflow
        <span class="apidocSignatureSpan">(initObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importWorkflow = function (initObj) {

    if (this.utils.isObjLiteral(initObj.workflow)) {

        if (!MINIFIED){
            this.log('importWorkflow', 'Importing workflow', null, 'DEBUG');
        }

        this.workflow                       = initObj.workflow || {};

        this.replaceMixins(this.workflow);

        if (this.utils.isObjLiteral(initObj.workflow)) {
            this.importQueries(initObj.workflow);
        }

    } else {

        var errorMsg                    = '[' + this.name + '.importWorkflow()] Could not import workflow. Workflow must be an object
 literal.';

        this.report({
            handle                      : 'COULD_NOT_IMPORT_WORKFLOW',
            desc                        : errorMsg
        });

        throw new Error(errorMsg);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.initPubSub" id="apidoc.element.turbine.js.Turbine.prototype.initPubSub">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>initPubSub
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">initPubSub = function (){

    var self                            = this;

    this.pubsub = {

        publish : function(message,payload){
            $(self).trigger(message,payload);
        },

        listen : function(message,handler){
            $(self).on(message,function(e) {
                handler(e.type, e.data);
            });
        },

        remove : function(message){
            $(self).unbind(message);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isDirtyQuery" id="apidoc.element.turbine.js.Turbine.prototype.isDirtyQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isDirtyQuery
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDirtyQuery = function (query){
    return this.dirtyQueries[query] === true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isEarlierQuery" id="apidoc.element.turbine.js.Turbine.prototype.isEarlierQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isEarlierQuery
        <span class="apidocSignatureSpan">(nextQuery, currentQuery)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEarlierQuery = function (nextQuery, currentQuery) {

    if (currentQuery === nextQuery) {
        return false;
    }

    for (var i=0;i&lt;this.queryOrder.length;i++) {

        if (this.queryOrder[i] === nextQuery) {
            return true;
        }

        if (this.queryOrder[i] === currentQuery) {
            return false;
        }
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isGlobalTimeoutAllowed" id="apidoc.element.turbine.js.Turbine.prototype.isGlobalTimeoutAllowed">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isGlobalTimeoutAllowed
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isGlobalTimeoutAllowed = function () {
    return this.globalTimeoutAllowed === true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isKillQuery" id="apidoc.element.turbine.js.Turbine.prototype.isKillQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isKillQuery
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isKillQuery = function (query) {
    return query === 'kill!'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isKilled" id="apidoc.element.turbine.js.Turbine.prototype.isKilled">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isKilled
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isKilled = function () {
    return this.killed === true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isLoggable" id="apidoc.element.turbine.js.Turbine.prototype.isLoggable">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isLoggable
        <span class="apidocSignatureSpan">(level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isLoggable = function (level){

    if (!MINIFIED){
        return this.logLevels[level] &lt;= this.logLevels[this.logLevel];
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isStarted" id="apidoc.element.turbine.js.Turbine.prototype.isStarted">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isStarted
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isStarted = function (){
    return this.started === true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
---
### isStarted()

If you want to know whether Turbine has been started, you can use `isStarted()`.

```javascript
var turbine = new Turbine(initObj);
turbine.<span class="apidocCodeKeywordSpan">isStarted</span>(); // returns false
turbine.start();
turbine.isStarted(); // returns true
```

---
### stop()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isStopQuery" id="apidoc.element.turbine.js.Turbine.prototype.isStopQuery">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isStopQuery
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isStopQuery = function (query) {
    return query === 'stop.'
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.isStopped" id="apidoc.element.turbine.js.Turbine.prototype.isStopped">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>isStopped
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isStopped = function () {
    return this.started !== true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.kill" id="apidoc.element.turbine.js.Turbine.prototype.kill">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>kill
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">kill = function (){

    if (!MINIFIED){
        this.log('kill', 'Killing Turbine');
    }

    this.started                        = false;
    this.killed                         = true;

    this.rewind();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.listen" id="apidoc.element.turbine.js.Turbine.prototype.listen">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>listen
        <span class="apidocSignatureSpan">(message, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listen = function (message, handler) {

    if (!MINIFIED){
        this.log('listen', 'Adding listener for:', message, 'TRACE');
    }

    if (typeof message === 'string') {
        message                         = [message];
    }

    for (var i=0;i&lt;message.length;i++) {
        this.pubsub.listen(message[i],handler);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.log" id="apidoc.element.turbine.js.Turbine.prototype.log">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>log
        <span class="apidocSignatureSpan">(funcName, message, payload, level)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function (funcName, message, payload, level) {

    if (!MINIFIED){
        payload                         = (!payload) ? '' : payload;
        level                           = (!level) ? 'INFO' : level;
        message                         = '[' + this.name + '.' + funcName + '()] ' + message;

        if (this.isLoggable(level)) {

            switch (level){

                case 'ERROR':
                    console.error(message,payload);
                    break;
                case 'WARN':
                    console.warn(message,payload);
                    break;
                case 'INFO':
                    console.info(message,payload);
                    break;
                default:
                    console.log(message,payload);
                    break;
            }
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.next" id="apidoc.element.turbine.js.Turbine.prototype.next">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>next
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function () {

    if (this.isKilled() || this.nextQuery === null) {
        return null;
    }

    if (!MINIFIED){
        this.log('next', 'Executing next workflow query:', this.nextQuery, 'TRACE');
    }

    this.exec(this.nextQuery);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.onDelayTimeout" id="apidoc.element.turbine.js.Turbine.prototype.onDelayTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>onDelayTimeout
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onDelayTimeout = function (query, response) {

    if (!MINIFIED){
        this.log('onDelayTimeout',query + ' delay completed after ' + response.delay.for + ' ms', response);
    }

    this.processResponse(query,response.delay);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.onGlobalTimeout" id="apidoc.element.turbine.js.Turbine.prototype.onGlobalTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>onGlobalTimeout
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onGlobalTimeout = function (query, response) {

    if (this.waitingFor) {
        this.remove(this.waitingFor);
    }

    if (!MINIFIED){
        this.log('onGlobalTimeout', 'Turbine timed out on ' + query + ' query after ' + this.getGlobalTimeout() + ' ms',null,'ERROR
');
    }

<span class="apidocCodeCommentSpan">    /* Set flag so timeout isn't triggered again during reprocessing */
</span>    this.always.timeout.isAfterTimeout  = true;

    this.processResponse(null,this.always.timeout,true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.onResponseTimeout" id="apidoc.element.turbine.js.Turbine.prototype.onResponseTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>onResponseTimeout
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">onResponseTimeout = function (query, response) {

    if (!MINIFIED){
        this.log('onResponseTimeout', 'The ' + query + ' response timed out.', response, 'WARN');
    }

    if (this.waitingFor) {
        this.remove(this.waitingFor);
    }

<span class="apidocCodeCommentSpan">    /* Set flag so timeout isn't triggered again during reprocessing */
</span>    response.timeout.isAfterTimeout     = true;

    this.processResponse(query,response.timeout,true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.parseWaitFor" id="apidoc.element.turbine.js.Turbine.prototype.parseWaitFor">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>parseWaitFor
        <span class="apidocSignatureSpan">(waitFor, nextQuery, appendAlwaysWaitFor)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parseWaitFor = function (waitFor, nextQuery, appendAlwaysWaitFor) {

    var waitingFor                      = [];
    var nextQueryObj                    = {};

    if (waitFor){

<span class="apidocCodeCommentSpan">        /* waitFor is a single message, so we map it to nextQuery */
</span>        if (typeof waitFor === 'string'){

            waitingFor.push(waitFor);
            nextQueryObj[waitFor] = nextQuery;

        } else {

            if (this.utils.isObjLiteral(waitFor)) {
                waitFor                 = [waitFor];
            }

            for (var j=0;j&lt;waitFor.length;j++){

                if (typeof waitFor[j] === 'string'){

                    waitingFor.push(waitFor[j]);
                    nextQueryObj[waitFor[j]] = nextQuery;

                } else if (typeof waitFor[j].message !== 'undefined'){

                    if (this.utils.isArray(waitFor[j].message)){

                        for (var k=0;k&lt;waitFor[j].message.length;k++){
                            waitingFor.push(waitFor[j].message[k]);
                            nextQueryObj[waitFor[j].message[k]] = waitFor[j].then || nextQuery;
                        }

                    } else {

                        waitingFor.push(waitFor[j].message);
                        nextQueryObj[waitFor[j].message] = waitFor[j].then || nextQuery;
                    }
                }
            }
        }
    }

    /* Add global listeners to waitingFor array, if they're not already there */
    if (appendAlwaysWaitFor){

        for (var msg in this.alwaysWaitFor) {

            if (this.alwaysWaitFor.hasOwnProperty(msg)) {

                waitingFor.push(msg);
                nextQueryObj[msg] = this.alwaysWaitFor[msg] || nextQuery;
            }
        }
    }

    return {
        waitingFor   : waitingFor,
        nextQueryObj : nextQueryObj
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.processResponse" id="apidoc.element.turbine.js.Turbine.prototype.processResponse">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>processResponse
        <span class="apidocSignatureSpan">(query, response, preventGlobalTimeout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">processResponse = function (query, response, preventGlobalTimeout) {

    this.clearTimers();

    if (this.isKilled()) {
        return null;
    }

    if (!MINIFIED){
        this.log('processResponse', 'Processing response to '+query+' query', response, 'TRACE');
    }

    if (!preventGlobalTimeout) {
        this.startGlobalTimeout(query,response);
    }

    if (response.delay &amp;&amp; !response.isAfterDelay) {

        this.startDelayTimeout(query,response);

    } else {

<span class="apidocCodeCommentSpan">        /* "report" tells us to report an issue. We only want to report it once, so
         * we ignore it if we're processing the response as part of a publish callback */
</span>        if (response.report &amp;&amp; !response.isPublishCallback) {
            this.reportIssueFromWorkflow(query,response);
        }

        /* If we have "publish" with no "waitFor", then just publish the message and move on */
        if (response.publish &amp;&amp; !response.waitFor &amp;&amp; !response.isPublishCallback) {

            this.publishNow(query,response);
        }

        /* If we have "publish" with "waitFor", then publish the message and wait for a response
         * before continuing. */
        if (response.publish &amp;&amp; response.waitFor &amp;&amp; !response.isPublishCallback) {

            this.publishAndWait(query,response);

        } else {

            if (response.repeat) {

                /* Clean up isAfterDelay flag */
                if (response.isAfterDelay) {

                    try {
                        delete response.isAfterDelay;
                    } catch (e) {
                        response.isAfterDelay       = undefined;
                    }
                }

                /* "repeat" repeats query */
                this.repeat(query,response);

            }
            /* "waitFor" tells us to wait for a message (or messages) before executing "then" query */
            else if (response.waitFor) {

                this.queue(response.waitFor,response.then);

            }
            /* Otherwise, "then" query gets executed immediately */
            else if (response.then){

                if (this.isEarlierQuery(response.then,this.currentQuery)){
                    this.rewind(this.currentQuery,response.then);
                }

                this.exec(response.then);
            }

            /* Clean up isPublishCallback flag */
            if (response.isPublishCallback) {

                try {
                    delete response.isPublishCallback;
                } catch (e) {
                    response.isPublishCallback  = undefined;
                }
            }

            /* If this response has a timeout, set the timer */
            if (response.timeout) {
                this.setResponseTimeout(query,response);
            }

            /* Clean up isAfterDelay flag */
            if (response.isAfterDelay) {

                try {
                    delete response.isAfterDelay;
                } catch (e) {
                    response.isAfterDelay       = undefined;
                }
            }
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.publish" id="apidoc.element.turbine.js.Turbine.prototype.publish">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>publish
        <span class="apidocSignatureSpan">(message, payload, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publish = function (message, payload, callback) {

    payload                             = payload || {};

    if (!MINIFIED){
        this.log('publish', 'Publishing message:', message);
    }

    if (typeof message === 'string') {
        message                         = [message];
    }

    for (var i=0;i&lt;message.length;i++) {
        this.pubsub.publish(message[i],payload);
    }

    if (typeof callback === 'function') {
        callback();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

This can be useful when you have multiple Turbine instances running simultaneously (or sequentially) and you want to disambiguate
 the log messages from each instance.

For example, if `initObj.name` is set to "CartExample", then the console logs will look like:

```
[CartExample.start()] Starting Turbine
[CartExample.<span class="apidocCodeKeywordSpan">publish</span>()] Publishing message: Turbine|workflow|started
[CartExample.publish()] Publishing message: Turbine|workflow|waiting
```

If you were to spin up another Turbine instance with an `initObj.name` of "SignupExample", you'd be able to tell
the difference from CartExample:

```
[CartExample.publish()] Publishing message: Turbine|workflow|waiting
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.publishAndWait" id="apidoc.element.turbine.js.Turbine.prototype.publishAndWait">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>publishAndWait
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publishAndWait = function (query, response) {

    var self                            = this;
    var message                         = null;
    var using                           = {};

    if (this.utils.isObjLiteral(response.publish)) {

        message                         = response.publish.message;
        using                           = this.getUsingObject(response.publish.using);

    } else {

        message                         = response.publish;
    }

    using.counter                       = (typeof response.repeat !== 'undefined') ? response.repeat.counter : 0;

    if (!MINIFIED){
        this.log('publishAndWait', 'Publishing message and waiting for response', {

            message                     : message,
            using                       : using,
            response                    : response
        });
    }

<span class="apidocCodeCommentSpan">    /* After message is published, callback must be called to process the rest of the response */
</span>    var callback = function() {

        response.isPublishCallback      = true;

        self.processResponse(query,response);
    };

    this.publish(message,using,callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.publishNow" id="apidoc.element.turbine.js.Turbine.prototype.publishNow">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>publishNow
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">publishNow = function (query, response) {

    var message                         = null;
    var using                           = {};

    if (this.utils.isObjLiteral(response.publish)) {

        message                         = response.publish.message;
        using                           = this.getUsingObject(response.publish.using);

    } else {

        message                         = response.publish;
    }

    this.publish(message,using);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.queue" id="apidoc.element.turbine.js.Turbine.prototype.queue">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>queue
        <span class="apidocSignatureSpan">(waitFor, nextQuery)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">queue = function (waitFor, nextQuery) {

    if (this.waitingFor) {
        this.remove(this.waitingFor);
    }

    var result                          = this.parseWaitFor(waitFor,nextQuery,true);

    this.waitingFor                     = result.waitingFor;
    this.nextQueryObj                   = result.nextQueryObj;
    this.nextQuery                      = nextQuery;

    if (this.waitingFor.length &gt; 0){
        this.listen(this.waitingFor,this.handleIncomingMessage.bind(this));
    }

    if (!MINIFIED){

        if (this.waitingFor.length &gt; 0){
            this.log('queue', 'Waiting for', this.waitingFor);
        }

        this.log('queue', 'Queuing next query', this.nextQueryObj);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.remove" id="apidoc.element.turbine.js.Turbine.prototype.remove">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>remove
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (message) {

    if (!MINIFIED){
        this.log('remove', 'Removing listener for:', message, 'TRACE');
    }

    if (typeof message === 'string') {
        message                         = [message];
    }

    for (var i=0;i&lt;message.length;i++) {
         this.pubsub.remove(message[i]);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.repeat" id="apidoc.element.turbine.js.Turbine.prototype.repeat">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>repeat
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">repeat = function (query, response) {

    response.repeat.counter            += 1;

    if (!MINIFIED){
        this.log('repeat', 'Repeating ' + query + ' (' + response.repeat.counter + ' of ' + response.repeat.limit + ' max)');
    }

<span class="apidocCodeCommentSpan">    /* If the limit is null, repeat query indefinitely */
</span>    if (response.repeat.limit === null) {

        this.queue(response.waitFor,query);
    }
    /* If the limit has been reached, use fallback response */
    else if (response.repeat.counter &gt;= response.repeat.limit) {

        if (!MINIFIED){
            this.log('repeat', 'Maximum repeat limit for ' + query + ' reached or exceeded (' + response.repeat.counter + ' of ' +
response.repeat.limit + ' max)');
        }

        this.processResponse(query,response.repeat);
    }
    /* If limit hasn't been reached, queue or execute same query again */
    else {

        if (response.waitFor) {

            /* When waitFor is an array, it is passed by reference. Because the global listeners are added
             * every time we call queue(), and because waitFor is a reference, the global listeners end up
             * being pushed onto the array over and over. Slicing them off here means they can be added again
             * without stacking up. */
            if (this.utils.isArray(response.waitFor) &amp;&amp; response.repeat.counter &gt; 1) {
                response.waitFor        = response.waitFor.slice(0,response.waitFor.length - this.numAlwaysWaitFor);
            }

            this.queue(response.waitFor,query);

        } else {

            this.exec(query);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.replace" id="apidoc.element.turbine.js.Turbine.prototype.replace">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replace
        <span class="apidocSignatureSpan">(target, source, prepend, recursive, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replace = function (target, source, prepend, recursive, type) {

    for (var item in target) {

        if (target.hasOwnProperty(item)) {

            var thisItem                = target[item];

<span class="apidocCodeCommentSpan">            /* Replace target with values defined in source */
</span>            if (typeof thisItem === 'string' &amp;&amp; thisItem.indexOf(prepend) === 0) {

                thisItem                = thisItem.substr(1);

                if (source[thisItem]) {

                    if (!MINIFIED){
                        this.log('replace', 'Replacing ' + prepend + thisItem + ' ' + type + ' with', source[thisItem], 'TRACE');
                    }

                    target[item]        = source[thisItem];
                }

            } else if (recursive &amp;&amp; typeof thisItem === 'object') {

                this.replace(thisItem,source,prepend,recursive,type);
            }
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.replaceMixins" id="apidoc.element.turbine.js.Turbine.prototype.replaceMixins">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replaceMixins
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceMixins = function (target) {
    this.replace(target,this.mixins,'+',true,'mixin');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.replaceShortcuts" id="apidoc.element.turbine.js.Turbine.prototype.replaceShortcuts">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replaceShortcuts
        <span class="apidocSignatureSpan">(response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceShortcuts = function (response) {
    this.replace(response,this.shortcuts,'@',true,'shortcut');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.replaceVariables" id="apidoc.element.turbine.js.Turbine.prototype.replaceVariables">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>replaceVariables
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">replaceVariables = function (target) {

    var thisTarget, thisVar, replaceWith;

    for (var variable in this.variables){

        if (this.variables.hasOwnProperty(variable)){

            for (var item in target) {

                if (target.hasOwnProperty(item)) {

                    thisTarget          = target[item];
                    thisVar             = '$'+variable;
                    replaceWith         = this.variables[variable];

<span class="apidocCodeCommentSpan">                    /* Replace variables with values defined in source */
</span>                    if (typeof thisTarget === 'string' &amp;&amp; thisTarget.indexOf(thisVar) &gt; -1) {

                        if (!MINIFIED){
                            this.log('replace', 'Replacing ' + thisVar + ' variable with "' + replaceWith + '"', null , 'TRACE');
                        }

                        target[item]    = thisTarget.replace(new RegExp('\\'+thisVar,'g'),replaceWith);

                    } else if (this.utils.isObjLiteral(thisTarget)) {

                        this.replaceVariables(thisTarget);
                    }
                }
            }
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.report" id="apidoc.element.turbine.js.Turbine.prototype.report">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>report
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">report = function (obj) {

    if (!MINIFIED){

        obj                             = (this.utils.isObjLiteral(obj)) ? obj : {};
        var handle                      = obj.handle || 'WORKFLOW_ISSUE_REPORTED';
        var desc                        = obj.description || '';

        this.log('report', handle + ': ' + desc, obj, 'ERROR');
    }

    return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.reportIssueFromWorkflow" id="apidoc.element.turbine.js.Turbine.prototype.reportIssueFromWorkflow">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>reportIssueFromWorkflow
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reportIssueFromWorkflow = function (query, response){

    var responseName                    = this.responses[query];
    response.report                     = (this.utils.isObjLiteral(response.report)) ? response.report : {};

<span class="apidocCodeCommentSpan">    /* Add workflow info to report */
</span>    response.report.workflow = {
        name                            : this.name,
        query                           : query,
        response                        : responseName,
        responseObj                     : this.workflow[query][responseName],
        timestamp                       : new Date().getTime()
    };

    this.report(response.report);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.resetResponse" id="apidoc.element.turbine.js.Turbine.prototype.resetResponse">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>resetResponse
        <span class="apidocSignatureSpan">(query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetResponse = function (query) {

<span class="apidocCodeCommentSpan">    /* If the query is dirty, just clear the dirty flag. Don't reset the response. */
</span>    if (this.isDirtyQuery(query)){

        this.dirtyQueries[query]        = null;

    }
    /* If the query isn't dirty, reset the response */
    else {

        var didReset                    = false;

        if (typeof this.resets[query] === 'function'){

            this.responses[query]       = this.resets[query]();
            didReset                    = true;

        } else if (typeof this.resets[query] !== 'undefined'){

            this.responses[query]       = this.resets[query];
            didReset                    = true;
        }

        if (!MINIFIED){

            if (didReset){
                this.log('resetResponse', 'Reset ' + query + ' response to', this.responses[query] || 'false', 'DEBUG');
            }
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.rewind" id="apidoc.element.turbine.js.Turbine.prototype.rewind">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>rewind
        <span class="apidocSignatureSpan">(from, to)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rewind = function (from, to) {

    this.clearTimers();

    var clearing                        = false;
    var numQueries                      = this.queryOrder.length;
    from                                = from || this.queryOrder[numQueries-1];
    to                                  = to || this.queryOrder[0];

    if (!MINIFIED){
        this.log('rewind', 'Rewinding from ' + from + ' to ' + to, null, 'DEBUG');
    }

    for (var i=numQueries;i&gt;=0;i--) {

        var query                       = this.queryOrder[i];

        if (query === from) {
            clearing                    = true;
        }

        if (clearing) {
            this.clear(query);
        }

        if (query === to) {
            break;
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.setResponse" id="apidoc.element.turbine.js.Turbine.prototype.setResponse">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>setResponse
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setResponse = function (query, response) {

    if (!MINIFIED){
        this.log('setResponse', 'Setting "' + query + '" response to ' + response);
    }

    this.responses[query]               = response;
    this.dirtyQueries[query]            = true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

The second way a response can be defined is via Turbine's `setResponse()` method. This isn't really the preferred way
of doing things, since it requires more tightly coupling your app with Turbine and your workflow. However, it's an option you
 can use if you need it.

For example, say you have some form validation logic. You could do something like:

```javascript
if (user.email.indexOf('@') &lt; 0){
    turbine.<span class="apidocCodeKeywordSpan">setResponse</span>('whichErrorCode','INVALID_EMAIL');
}
```
When Turbine reaches the `whichErrorCode` query, it will first check if a query function has been defined. It hasn't been,
so Turbine then checks to see which response was set via `setResponse()`.

#### Via initialization object

When Turbine is instantiated, you can define default responses in the init object passed to the constructor. Since Turbine defaults
 all responses to false, you only need to define defaults for non-false values.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.setResponseTimeout" id="apidoc.element.turbine.js.Turbine.prototype.setResponseTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>setResponseTimeout
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setResponseTimeout = function (query, response) {

    if (!this.timers.queries[query]) {
        this.timers.queries[query]      = [];
    }

    var self                            = this;

    var timeout = setTimeout(function() {

        self.onResponseTimeout(query,response);

    },response.timeout.after);

    this.timers.queries[query].push(timeout);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.start" id="apidoc.element.turbine.js.Turbine.prototype.start">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>start
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function () {

    if (this.isKilled()){

        if (!MINIFIED){
            this.log('start', 'Cannot start Turbine. It has already been killed.', null, 'ERROR');
        }

        return null;
    }

    if (!MINIFIED){
        this.log('start', 'Starting Turbine');
    }

    this.started                        = true;

    this.queue(null,this.getStartingQuery());
    this.next();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*[STRING] Gives your Turbine instance a unique name for logging purposes.*

This can be useful when you have multiple Turbine instances running simultaneously (or sequentially) and you want to disambiguate
 the log messages from each instance.

For example, if `initObj.name` is set to "CartExample", then the console logs will look like:

```
[CartExample.<span class="apidocCodeKeywordSpan">start</span>()] Starting Turbine
[CartExample.publish()] Publishing message: Turbine|workflow|started
[CartExample.publish()] Publishing message: Turbine|workflow|waiting
```

If you were to spin up another Turbine instance with an `initObj.name` of "SignupExample", you'd be able to tell
the difference from CartExample:

```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.startDelayTimeout" id="apidoc.element.turbine.js.Turbine.prototype.startDelayTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>startDelayTimeout
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startDelayTimeout = function (query, response) {

    if (!MINIFIED){
        this.log('startDelayTimeout',query + ' delay started. Delayed for ' + response.delay.for + ' ms', response);
    }

    var self                            = this;

    this.timers.delay = setTimeout(function() {

        self.onDelayTimeout(query,response);

    },response.delay.for);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.startGlobalTimeout" id="apidoc.element.turbine.js.Turbine.prototype.startGlobalTimeout">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>startGlobalTimeout
        <span class="apidocSignatureSpan">(query, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">startGlobalTimeout = function (query, response) {

    if (!this.isGlobalTimeoutAllowed()) {
        return false;
    }

    this.clearGlobalTimer();

    if (!MINIFIED){
        this.log('startGlobalTimeout', 'Starting global timer', this.always.timeout, 'TRACE');
    }

    var timeout                         = this.getGlobalTimeout();
    var self                            = this;

    this.timers.global = setTimeout(function() {

        self.onGlobalTimeout(query,response);

    },timeout);

    return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.stop" id="apidoc.element.turbine.js.Turbine.prototype.stop">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {

    if (!MINIFIED){
        this.log('stop', 'Stopping Turbine');
    }

    this.started                        = false;

    this.rewind();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
To stop Turbine, simple call stop().

```javascript
var turbine = new Turbine(initObj);
turbine.isStarted(); // returns false
turbine.start();
turbine.isStarted(); // returns true
turbine.<span class="apidocCodeKeywordSpan">stop</span>();
turbine.isStarted(); // returns false
```

---
### getVar(varName)

The `getVar()` method retrieves the value of the variable set in Turbine's init object.
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.turbine.js.Turbine.prototype.utils" id="apidoc.module.turbine.js.Turbine.prototype.utils">module turbine.js.Turbine.prototype.utils</a></h1>


    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.utils.inArray" id="apidoc.element.turbine.js.Turbine.prototype.utils.inArray">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>inArray
        <span class="apidocSignatureSpan">(item, source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">inArray = function (item, source) {

    for (var i=0;i&lt;source.length;i++) {

        if (item === source[i]) {
            return true;
        }
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.utils.isArray" id="apidoc.element.turbine.js.Turbine.prototype.utils.isArray">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>isArray
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isArray = function (obj) {
    return Object.prototype.toString.call(obj) === '[object Array]';
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.utils.isObjLiteral" id="apidoc.element.turbine.js.Turbine.prototype.utils.isObjLiteral">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>isObjLiteral
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isObjLiteral = function (obj) {
    return typeof obj === 'object' &amp;&amp; obj !== null &amp;&amp; !this.isArray(obj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.utils.mergeObjects" id="apidoc.element.turbine.js.Turbine.prototype.utils.mergeObjects">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>mergeObjects
        <span class="apidocSignatureSpan">(target, source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mergeObjects = function (target, source) {

    for (var i in source) {

        if (source.hasOwnProperty(i)) {

            if ((typeof target[i] === 'object' &amp;&amp; target[i] !== null) &amp;&amp; (typeof source[i] === 'object' &amp;&amp; source[i] !== null)) {

                target[i]           = this.mergeObjects(target[i],source[i]);

            } else {

                target[i]           = source[i];
            }
        }
    }

    return target;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.turbine.js.Turbine.prototype.utils.traverseObj" id="apidoc.element.turbine.js.Turbine.prototype.utils.traverseObj">
        function <span class="apidocSignatureSpan">turbine.js.Turbine.prototype.utils.</span>traverseObj
        <span class="apidocSignatureSpan">(obj, depth, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">traverseObj = function (obj, depth, callback) {

    // start at level 0
    depth           = depth || 0;
    callback        = callback || null;

    for (var item in obj) {

        // if we find a child object
        if (obj.hasOwnProperty(item) &amp;&amp; typeof obj[item] === 'object') {

            // recursively call myself again to loop through the child object
            // "this" refers to "this.utils"
            this.traverseObj(obj[item], ++depth, callback);

        } else if (callback) {

            callback(obj, item);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>